<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>
  <style>
    :root {
      --bg1: #fff1f5;
      --bg2: #ffe4e6;
      --card: rgba(255,255,255,.75);
      --text: #111827;
      --muted: #6b7280;
      --yes: #22c55e;
      --yes2: #16a34a;
      --no: #ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,.15);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      padding: 24px;
    }

    .card {
      width: min(720px, 100%);
      background: var(--card);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,.7);
      border-radius: 24px;
      box-shadow: var(--shadow);
      padding: 28px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .badge {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.8);
      border: 1px solid rgba(0,0,0,.06);
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 14px;
    }

    h1 {
      margin: 0 0 14px;
      font-size: clamp(28px, 4vw, 44px);
      letter-spacing: -0.03em;
      line-height: 1.05;
    }

    /* subtitle stays but empty by default */
    .sub {
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 16px;
      min-height: 22px;
    }

    .cat-wrap {
      display: grid;
      place-items: center;
      margin: 18px auto 20px;
    }
    .cat {
      width: min(320px, 70vw);
      height: auto;
      filter: drop-shadow(0 14px 18px rgba(0,0,0,.12));
      transform: rotate(-1.5deg);
      user-select: none;
      pointer-events: none;
    }

    .play-area {
      position: relative;
      width: min(520px, 100%);
      height: 160px;
      margin: 10px auto 0;
    }

    .btn {
      border: 0;
      padding: 14px 22px;
      border-radius: 999px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
      touch-action: manipulation;
      user-select: none;
    }
    .btn:active { transform: translateY(1px) scale(.99); }

    #yesBtn {
      background: linear-gradient(180deg, var(--yes), var(--yes2));
      color: white;
      position: absolute;
      left: 50%;
      top: 22px;
      transform: translateX(-120%);
    }

    #noBtn {
      background: linear-gradient(180deg, #fb7185, var(--no));
      color: white;
      position: absolute;
      left: 50%;
      top: 22px;
      transform: translateX(20%);
    }

    .hearts {
      position: absolute;
      inset: -40px;
      pointer-events: none;
      opacity: .35;
      background:
        radial-gradient(circle at 15% 20%, rgba(255,0,80,.20), transparent 30%),
        radial-gradient(circle at 80% 30%, rgba(255,0,120,.16), transparent 32%),
        radial-gradient(circle at 40% 90%, rgba(255,0,90,.14), transparent 28%);
      filter: blur(2px);
    }

    .footer {
      margin-top: 18px;
      font-size: 13px;
      color: var(--muted);
    }

    @media (max-width: 480px) {
      .play-area { height: 190px; }
    }
  </style>
</head>
<body>
  <main class="card" aria-live="polite">
    <div class="hearts"></div>

    

    <h1 id="question">can u be my first valentines</h1>
    <!-- removed "choose wisely" -->
    <p class="sub" id="subtitle"></p>

    <div class="cat-wrap" aria-hidden="true">
      <!-- Cute inline SVG cat (no external image needed) -->
      <svg class="cat" viewBox="0 0 640 520" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="fur" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#fdf2f8"/>
            <stop offset="1" stop-color="#ffe4e6"/>
          </linearGradient>
          <linearGradient id="ear" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffd1dc"/>
            <stop offset="1" stop-color="#ffb4c8"/>
          </linearGradient>
        </defs>

        <path d="M520 320c60 10 90 50 70 85-14 24-48 27-70 8"
              fill="none" stroke="#111827" stroke-width="18" stroke-linecap="round"/>

        <ellipse cx="320" cy="330" rx="190" ry="150" fill="url(#fur)" stroke="#111827" stroke-width="14"/>
        <circle cx="320" cy="190" r="140" fill="url(#fur)" stroke="#111827" stroke-width="14"/>

        <path d="M220 95l-70 85c-18 22-2 54 26 54h54"
              fill="url(#fur)" stroke="#111827" stroke-width="14" stroke-linejoin="round"/>
        <path d="M420 95l70 85c18 22 2 54-26 54h-54"
              fill="url(#fur)" stroke="#111827" stroke-width="14" stroke-linejoin="round"/>

        <path d="M205 135l-32 40c-10 12-1 28 13 28h39" fill="url(#ear)"/>
        <path d="M435 135l32 40c10 12 1 28-13 28h-39" fill="url(#ear)"/>

        <ellipse cx="270" cy="190" rx="18" ry="26" fill="#111827"/>
        <ellipse cx="370" cy="190" rx="18" ry="26" fill="#111827"/>
        <circle cx="264" cy="182" r="6" fill="#fff"/>
        <circle cx="364" cy="182" r="6" fill="#fff"/>

        <path d="M320 220l-18 14c10 10 26 10 36 0z" fill="#fb7185" stroke="#111827" stroke-width="8" stroke-linejoin="round"/>

        <path d="M320 238c0 30-30 34-48 18" fill="none" stroke="#111827" stroke-width="10" stroke-linecap="round"/>
        <path d="M320 238c0 30 30 34 48 18" fill="none" stroke="#111827" stroke-width="10" stroke-linecap="round"/>

        <circle cx="225" cy="235" r="16" fill="#fecdd3" opacity=".9"/>
        <circle cx="415" cy="235" r="16" fill="#fecdd3" opacity=".9"/>

        <path d="M175 230h85" stroke="#111827" stroke-width="8" stroke-linecap="round"/>
        <path d="M160 260h95" stroke="#111827" stroke-width="8" stroke-linecap="round"/>
        <path d="M465 230h-85" stroke="#111827" stroke-width="8" stroke-linecap="round"/>
        <path d="M480 260h-95" stroke="#111827" stroke-width="8" stroke-linecap="round"/>

        <path d="M320 300c-22-24-70-10-70 28 0 46 70 78 70 78s70-32 70-78c0-38-48-52-70-28z"
              fill="#fb7185" stroke="#111827" stroke-width="10" stroke-linejoin="round"/>
      </svg>
    </div>

    <div class="play-area" id="playArea">
      <button class="btn" id="yesBtn" type="button">YES üíñ</button>
      <button class="btn" id="noBtn" type="button">NO</button>
    </div>

    <div class="footer">Tip: you can customize the text via the link (q=, name=, from=).</div>
  </main>

  <script>
    // URL params (optional)
    const params = new URLSearchParams(location.search);
    const q = params.get("q");
    const name = params.get("name");
    const from = params.get("from");
  
    const questionEl = document.getElementById("question");
    const subtitleEl = document.getElementById("subtitle");
  
    if (q) questionEl.textContent = q;
  
    if (name || from) {
      const parts = [];
      if (name) parts.push(name);
      if (from) parts.push(`from ${from}`);
      subtitleEl.textContent = parts.join(" ‚Äî ");
    } else {
      subtitleEl.textContent = "";
    }
  
    const playArea = document.getElementById("playArea");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
  
    // Start clean
    noBtn.textContent = "NO";
  
    const noMessages = [
      "rlly? üòê",
      "bruh üíÄ",
      "nahhh",
      "u sure??",
      "be fr üò≠",
      "cmonnn ü•∫",
      "nice try üòº",
      "not happening üôÇ"
    ];
    let noIndex = 0;
  
    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }
  
    function setNoText() {
      // First time = plain NO, after that add messages
      if (noIndex === 0) {
        noBtn.textContent = "NO";
      } else {
        noBtn.textContent = `NO ‚Äî ${noMessages[noIndex % noMessages.length]}`;
      }
      noIndex++;
    }
  
    function moveNoButtonAwayFromPointer(pointerX, pointerY) {
      const area = playArea.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const pad = 10;
  
      const maxX = area.width - btnRect.width - pad;
      const maxY = area.height - btnRect.height - pad;
  
      // Try a few random spots until it's NOT under the pointer
      for (let i = 0; i < 12; i++) {
        const x = Math.random() * maxX;
        const y = Math.random() * maxY;
  
        const left = clamp(x, pad, maxX);
        const top  = clamp(y, pad, maxY);
  
        // Predict new rect in viewport coords
        const newLeft = area.left + left;
        const newTop  = area.top + top;
        const newRight = newLeft + btnRect.width;
        const newBottom = newTop + btnRect.height;
  
        const pointerInside =
          pointerX >= newLeft && pointerX <= newRight &&
          pointerY >= newTop && pointerY <= newBottom;
  
        if (!pointerInside) {
          noBtn.style.left = `${left}px`;
          noBtn.style.top = `${top}px`;
          noBtn.style.transform = "none";
          setNoText();
          return;
        }
      }
  
      // Fallback if everything fails
      noBtn.style.left = `${pad}px`;
      noBtn.style.top = `${pad}px`;
      noBtn.style.transform = "none";
      setNoText();
    }
  
    // ‚úÖ ONLY react when the pointer is ON the button:
    // - pointermove triggers as soon as the cursor is on it and moves a hair
    // - pointerdown triggers if they try to click/tap it
    function dodge(e) {
      const px = e.clientX ?? (e.touches && e.touches[0]?.clientX) ?? 0;
      const py = e.clientY ?? (e.touches && e.touches[0]?.clientY) ?? 0;
      moveNoButtonAwayFromPointer(px, py);
    }
  
    noBtn.addEventListener("pointermove", dodge);
    noBtn.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      e.stopPropagation();
      dodge(e);
    });
  
    // Block click completely
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      return false;
    });
  
    // YES -> gift page
    yesBtn.addEventListener("click", () => {
      const next = new URL("gift.html", location.href);
      if (name) next.searchParams.set("name", name);
      if (from) next.searchParams.set("from", from);
      location.href = next.toString();
    });
  
    // Initial placement (place it somewhere not annoying)
    // Put it a bit lower so you don't accidentally hit it while going for YES
    noBtn.style.left = "50%";
    noBtn.style.top = "78px";
    noBtn.style.transform = "translateX(20%)";
  </script>
  
</body>
</html>
